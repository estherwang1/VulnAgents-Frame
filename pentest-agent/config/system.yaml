# ============================================================
# 系统配置 - System Configuration
# ============================================================

# MCP 服务器配置
mcp:
  server_url: "${MCP_SERVER_URL:http://localhost:8000}"
  api_key: "${MCP_KEY}"
  request_timeout: 30
  verify_ssl: true

# 路径配置
paths:
  local_workspace: "${LOCAL_WORKSPACE:/workspace}"
  scripts_dir: "${LOCAL_WORKSPACE:/workspace}/scripts"
  mission_log: "${LOCAL_WORKSPACE:/workspace}/mission.md"

# 远程路径（仅供参考，实际由 MCP 服务器管理）
remote_paths:
  mcp_agent_path: "/root/mcp-agent"
  workspace_root: "/root/pentest_workspace"

# 模型配置
model:
  name: "${ANTHROPIC_MODEL:claude-sonnet-4-20250514}"
  base_url: "${ANTHROPIC_BASE_URL:}"
  temperature: 0
  max_tokens: 4096

# 知识库配置
knowledge:
  # 是否启用知识库（CTF 模式建议关闭）
  enabled: "${KNOWLEDGE_ENABLED:false}"
  # NVD API
  nvd_enabled: true
  nvd_api_key: "${NVD_API_KEY:}"
  # RAG 本地知识库
  rag_enabled: true
  rag_docs_dir: "${RAG_DOCS_DIR:./knowledge_docs}"
  rag_backend: "simple"  # simple, chroma, faiss
  # ExploitDB
  exploitdb_enabled: false

# 任务模式
mode:
  # ctf: CTF 靶场模式（精简流程，不查知识库）
  # pentest: 真实渗透模式（完整流程，启用知识库）
  type: "${MODE:ctf}"

# 调试配置
debug:
  enabled: "${DEBUG_MODE:false}"
  log_level: "${LOG_LEVEL:INFO}"

# 任务配置
task:
  poll_interval: 5
  timeout: 600
  max_retries: 3
